<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2017%2F12%2F17%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
  <entry>
    <title><![CDATA[install caffe on ubuntu16.04]]></title>
    <url>%2F2017%2F10%2F25%2Fcaffe-with-ubuntu16-04%2F</url>
    <content type="text"><![CDATA[综述本文主要介绍在ubuntu 16.04 系统上编译安装caffe，请注意这里是CPU ONLY版本，至于为什么是cpu only，我也很无奈这台台式机不带GPU。本文主要参考了以下链接： 1.https://github.com/BVLC/caffe/wiki/Ubuntu-16.04-or-15.10-Installation-Guide 2.https://docs.opencv.org/3.2.0/d7/d9f/tutorial_linux_install.html 3.http://www.linuxidc.com/Linux/2016-12/138870.htm和 http://www.linuxidc.com/Linux/2016-12/138870p2.htm 安装依赖12345678910sudo apt-get updatesudo apt-get upgradesudo apt-get install -y build-essential cmake git pkg-configsudo apt-get install -y libprotobuf-dev libleveldb-dev libsnappy-dev \libhdf5-serial-dev protobuf-compilersudo apt-get install -y libopenblas-dev liblapack-dev libatlas-base-devsudo apt-get install -y --no-install-recommends libboost-all-devsudo apt-get install -y libgflags-dev libgoogle-glog-dev liblmdb-devsudo apt-get install -y python3-dev #已有可不必安装sudo apt-get install -y python3-numpy python3-scipy 其中 -y 选项可以省略 安装opencv 3.2.0安装依赖123456[compiler] sudo apt-get install build-essential[required] sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev \libavformat-dev libswscale-devsudo apt-get install liblapacke-dev checkinstall #1[optional] sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev \libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev 其中，compiler和required必选，optional可选，注释#1的行需要安装，不然会引发一个错误，这个错误是fatal error: LAPACKE_H_PATH-NOTFOUND/lapacke.h: No such file or directory#include “LAPACKE_H_PATH-NOTFOUND/lapacke.h”这个错误很奇葩，产生这个错误感觉是脚本的锅，如果使用了sudo apt-get install liblapacke-dev checkinstall还出现这个错误，那么就手动找到报错的文件，将#include “LAPACKE_H_PATH-NOTFOUND/lapacke.h”修改为#include “lapacke.h” 下载opencv3.2.0源码可以使用git下载123cd ~/&lt;my_working_directory&gt;git clone https://github.com/opencv/opencv.gitgit clone https://github.com/opencv/opencv_contrib.git 也可以下载zip文件解压，解压后，为方便起见，将opencv-3.2.0,重命名为opencv，将opencv_contrib重命名为contrib,并将其拷贝至opencv目录下 编译源码首先创建build目录123cd opencvmkdir buildcd build 然后编译源码12345678sudo cmake -DCMAKE_BUILD_TYPE=Release \-DCMAKE_INSTALL_PREFIX=/usr/local \-DPYTHON3_EXECUTABLE=/usr/bin/python3 \-DPYTHON_INCLUDE_DIR=/usr/include/python3.5 \-DPYTHON_INCLUDE_DIR2=/usr/include/x86_64-linux-gnu/python3.5m \-DPYTHON_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.5m.so \-DPYTHON3_NUMPY_INCLUDE_DIRS=/usr/lib/python3/dist-packages/numpy/core/include/ \-DOPENCV_EXTRA_MODULES_PATH=/home/dsk/dsk/opencv/contrib/modules .. 注意，将python3或者3.5设置成你自己的python版本，注意，-Dkey=value形式key和value之间不要有空格，否则会提示-DOPENCV_EXTRA_MODULES_PATH解析错误，由于这个空格浪费了我不少时间如果遇到要下载文件，可能由于墙的原因，而下载失败，可以手动下载然后将文件拷贝至此文件夹下opencv/contrib/modules/dnn/.download/bd5e3eed635a8d32e2b99658633815ef/v3.1.0，可以使用命令行拷贝以上cmake设置成功之后，开始编译12sudo make -j4sudo make install 注意 make -j4是指用4个线程同时运行。可先用nproc查看可用的处理器数目 安装caffe下载源码并设置相关文件下载caffe 源码，解压，进入caffe文件夹，将Makefile.config.example拷贝为Makefile.config123cd caffe-mastercp Makefile.config.example Makefile.configsudo gedit Makefile.config 在gedit上将以下内容修改，将以下行的注释去掉USE_CUDNN := 0OPENCV_VERSION := 3由于我使用python 3，所以将python2全部注释掉，将python3的注释去掉 而且，将 # Whatever else you find you need goes here. 下面的12INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/includeLIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib 分别修改为：123INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include /usr/include/hdf5/serialLIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib /usr/lib/x86_64-linux-gnu \/usr/lib/x86_64-linux-gnu/hdf5/serial 主要是因为ubuntu16.04文件位置 与以前版本相比，发生了变化，而系统需要hdf5的位置，因此需要修改路径.最后，打开makefile文件，做如下修改，将1NVCCFLAGS +=-ccbin=$(CXX) -Xcompiler-fPIC $(COMMON_FLAGS) 替换为：1NVCCFLAGS += -D_FORCE_INLINES -ccbin=$(CXX) -Xcompiler -fPIC $(COMMON_FLAGS) 编译源码最后，使用以下命令编译源码12345make all -j4make test -j4make runtest -j4make pycaffe -j4make distribute -j4 如果以上没有报错，那么恭喜你，如果出现以下错误，可以进行如此修改： not found lboost_python3解决方法，修改Makefile.config文件，将123PYTHON_LIBRARIES := boost_python3 python3.5mPYTHON_INCLUDE := /usr/include/python3.5m \ /usr/lib/python3.5/dist-packages/numpy/core/include 修改为123PYTHON_LIBRARIES := boost_python-py35 python3.5mPYTHON_INCLUDE := /usr/include/python3.5m \ /usr/lib/python3.5/dist-packages/numpy/core/include not found libopencv_core.so.3.2.0这个为ld_library的问题，解决方法为：1sudo vi /etc/ld.so.conf.d/opencv.conf 添加以下内容1/usr/local/lib /usr/local/lib为我的ibopencv_core.so.3.2.0所在的文件夹，你需要修改为你的相应文件夹]]></content>
      <categories>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>caffe</tag>
        <tag>python3</tag>
        <tag>opencv</tag>
      </tags>
  </entry>
</search>
